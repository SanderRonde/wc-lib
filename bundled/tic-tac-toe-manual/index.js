!function(e){var t={};function n(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(s,r,function(t){return e[t]}.bind(null,r));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([,function(e,t,n){"use strict";n.r(t);var s=void 0!==s?s:{};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const r=new WeakMap,i=e=>(...t)=>{const n=e(...t);return r.set(n,!0),n},o=e=>"function"==typeof e&&r.has(e),a=void 0!==s&&null!=s.customElements&&void 0!==s.customElements.polyfillWrapFlushCallback,l=(e,t,n=null)=>{for(;t!==n;){const n=t.nextSibling;e.removeChild(t),t=n}},c={},h={},u=`{{lit-${String(Math.random()).slice(2)}}}`,p=`\x3c!--${u}--\x3e`,d=new RegExp(`${u}|${p}`);class f{constructor(e,t){this.parts=[],this.element=t;const n=[],s=[],r=document.createTreeWalker(t.content,133,null,!1);let i=0,o=-1,a=0;const{strings:l,values:{length:c}}=e;for(;a<c;){const e=r.nextNode();if(null!==e){if(o++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:n}=t;let s=0;for(let e=0;e<n;e++)g(t[e].name,"$lit$")&&s++;for(;s-- >0;){const t=l[a],n=v.exec(t)[2],s=n.toLowerCase()+"$lit$",r=e.getAttribute(s);e.removeAttribute(s);const i=r.split(d);this.parts.push({type:"attribute",index:o,name:n,strings:i}),a+=i.length-1}}"TEMPLATE"===e.tagName&&(s.push(e),r.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(u)>=0){const s=e.parentNode,r=t.split(d),i=r.length-1;for(let t=0;t<i;t++){let n,i=r[t];if(""===i)n=m();else{const e=v.exec(i);null!==e&&g(e[2],"$lit$")&&(i=i.slice(0,e.index)+e[1]+e[2].slice(0,-"$lit$".length)+e[3]),n=document.createTextNode(i)}s.insertBefore(n,e),this.parts.push({type:"node",index:++o})}""===r[i]?(s.insertBefore(m(),e),n.push(e)):e.data=r[i],a+=i}}else if(8===e.nodeType)if(e.data===u){const t=e.parentNode;null!==e.previousSibling&&o!==i||(o++,t.insertBefore(m(),e)),i=o,this.parts.push({type:"node",index:o}),null===e.nextSibling?e.data="":(n.push(e),o--),a++}else{let t=-1;for(;-1!==(t=e.data.indexOf(u,t+1));)this.parts.push({type:"node",index:-1}),a++}}else r.currentNode=s.pop()}for(const e of n)e.parentNode.removeChild(e)}}const g=(e,t)=>{const n=e.length-t.length;return n>=0&&e.slice(n)===t},_=e=>-1!==e.index,m=()=>document.createComment(""),v=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class y{constructor(e,t,n){this.__parts=[],this.template=e,this.processor=t,this.options=n}update(e){let t=0;for(const n of this.__parts)void 0!==n&&n.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=a?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),t=[],n=this.template.parts,s=document.createTreeWalker(e,133,null,!1);let r,i=0,o=0,l=s.nextNode();for(;i<n.length;)if(r=n[i],_(r)){for(;o<r.index;)o++,"TEMPLATE"===l.nodeName&&(t.push(l),s.currentNode=l.content),null===(l=s.nextNode())&&(s.currentNode=t.pop(),l=s.nextNode());if("node"===r.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(l.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,r.name,r.strings,this.options));i++}else this.__parts.push(void 0),i++;return a&&(document.adoptNode(e),customElements.upgrade(e)),e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const b=s.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),w=` ${u} `;class C{constructor(e,t,n,s){this.strings=e,this.values=t,this.type=n,this.processor=s}getHTML(){const e=this.strings.length-1;let t="",n=!1;for(let s=0;s<e;s++){const e=this.strings[s],r=e.lastIndexOf("\x3c!--");n=(r>-1||n)&&-1===e.indexOf("--\x3e",r+1);const i=v.exec(e);t+=null===i?e+(n?w:p):e.substr(0,i.index)+i[1]+i[2]+"$lit$"+i[3]+u}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();return void 0!==b&&(t=b.createHTML(t)),e.innerHTML=t,e}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const P=e=>null===e||!("object"==typeof e||"function"==typeof e),S=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class R{constructor(e,t,n){this.dirty=!0,this.element=e,this.name=t,this.strings=n,this.parts=[];for(let e=0;e<n.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new T(this)}_getValue(){const e=this.strings,t=e.length-1,n=this.parts;if(1===t&&""===e[0]&&""===e[1]){const e=n[0].value;if("symbol"==typeof e)return String(e);if("string"==typeof e||!S(e))return e}let s="";for(let r=0;r<t;r++){s+=e[r];const t=n[r];if(void 0!==t){const e=t.value;if(P(e)||!S(e))s+="string"==typeof e?e:String(e);else for(const t of e)s+="string"==typeof t?t:String(t)}}return s+=e[t],s}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class T{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===c||P(e)&&e===this.value||(this.value=e,o(e)||(this.committer.dirty=!0))}commit(){for(;o(this.value);){const e=this.value;this.value=c,e(this)}this.value!==c&&this.committer.commit()}}class A{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(m()),this.endNode=e.appendChild(m())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=m()),e.__insert(this.endNode=m())}insertAfterPart(e){e.__insert(this.startNode=m()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(null===this.startNode.parentNode)return;for(;o(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=c,e(this)}const e=this.__pendingValue;e!==c&&(P(e)?e!==this.value&&this.__commitText(e):e instanceof C?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):S(e)?this.__commitIterable(e):e===h?(this.value=h,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,n="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=n:this.__commitNode(document.createTextNode(n)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof y&&this.value.template===t)this.value.update(e.values);else{const n=new y(t,e.processor,this.options),s=n._clone();n.update(e.values),this.__commitNode(s),this.value=n}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let n,s=0;for(const r of e)n=t[s],void 0===n&&(n=new A(this.options),t.push(n),0===s?n.appendIntoPart(this):n.insertAfterPart(t[s-1])),n.setValue(r),n.commit(),s++;s<t.length&&(t.length=s,this.clear(n&&n.endNode))}clear(e=this.startNode){l(this.startNode.parentNode,e.nextSibling,this.endNode)}}class M{constructor(e,t,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=n}setValue(e){this.__pendingValue=e}commit(){for(;o(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=c,e(this)}if(this.__pendingValue===c)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=c}}class x extends R{constructor(e,t,n){super(e,t,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new E(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class E extends T{}let O=!1;(()=>{try{const e={get capture(){return O=!0,!1}};s.addEventListener("test",e,e),s.removeEventListener("test",e,e)}catch(e){}})();class L{constructor(e,t,n){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;o(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=c,e(this)}if(this.__pendingValue===c)return;const e=this.__pendingValue,t=this.value,n=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),s=null!=e&&(null==t||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),s&&(this.__options=N(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=c}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const N=e=>e&&(O?{capture:e.capture,passive:e.passive,once:e.once}:e.capture)
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;new class{handleAttributeExpressions(e,t,n,s){const r=t[0];if("."===r){return new x(e,t.slice(1),n).parts}return"@"===r?[new L(e,t.slice(1),s.eventContext)]:"?"===r?[new M(e,t.slice(1),n)]:new R(e,t,n).parts}handleTextExpression(e){return new A(e)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function V(e){let t=k.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},k.set(e.type,t));let n=t.stringsArray.get(e.strings);if(void 0!==n)return n;const s=e.strings.join(u);return n=t.keyString.get(s),void 0===n&&(n=new f(e,e.getTemplateElement()),t.keyString.set(s,n)),t.stringsArray.set(e.strings,n),n}const k=new Map,$=new WeakMap,j=(e,t,n)=>{let s=$.get(t);void 0===s&&(l(t,t.firstChild),$.set(t,s=new A(Object.assign({templateFactory:V},n))),s.appendInto(t)),s.setValue(e),s.commit()};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
void 0!==s&&(s.litHtmlVersions||(s.litHtmlVersions=[])).push("1.3.0");var F,I;!function(e){e[e.NEVER=0]="NEVER",e[e.MANUAL=0]="MANUAL",e[e.PROP=1]="PROP",e[e.THEME=2]="THEME",e[e.LANG=4]="LANG",e[e.SUBTREE_PROPS=8]="SUBTREE_PROPS",e[e.GLOBAL_PROPS=16]="GLOBAL_PROPS",e[e.ALWAYS=63]="ALWAYS",e[e.FORCE=127]="FORCE"}(F||(F={})),function(e){e.STRING="string",e.NUMBER="number",e.BOOL="bool",e.STRING_REQUIRED="string_required",e.NUMBER_REQUIRED="number_required",e.BOOL_REQUIRED="bool_required",e.STRING_OPTIONAL="string_optional",e.NUMBER_OPTIONAL="number_optional",e.BOOL_OPTIONAL="bool_optional"}(I||(I={}));var D=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};function W(e){return Array.isArray(e)?e:[e]}function H(e,t,n){if(!n||"function"!=typeof n.value)throw new TypeError(`Only methods can be decorated with @bind. <${t}> is not a method!`);return{configurable:!0,get(){const e=n.value.bind(this);return Object.defineProperty(this,t,{value:e,configurable:!0,writable:!0}),e}}}function U(e,t,n=!1){const s={},r=Object.keys(t),i=Object.keys(e).filter(e=>!r.includes(e));for(const t of i)Object.defineProperty(s,t,Object.assign({get:()=>e[t],enumerable:!0},n?{set(n){e[t]=n}}:{}));for(const e of r)Object.defineProperty(s,e,Object.assign({get:()=>t[e],enumerable:!0},n?{set(n){t[e]=n}}:{}));return s}class G{constructor(){this.___cssArr=null,this.___privateCSS=null,this.__cssSheets=null}}const B=new Map;class q{constructor(e){this._self=e,this.disableRender=!1,this.__firstRender=!0,this.___renderContainers=null,this.__sheetsMounted=!1,this.___canUseConstructedCSS=null}get instance(){if(B.has(this._self.self.is))return B.get(this._self.self.is);const e=new G;return B.set(this._self.self.is,e),e}get __cssArr(){const e=this.instance;return null!==e.___cssArr?e.___cssArr:e.___cssArr=W(this._self.self.css||[])}get __privateCSS(){const e=this.instance;return null!==e.___privateCSS?e.___privateCSS:e.___privateCSS=this.canUseConstructedCSS?this.__cssArr.filter(e=>!(e.changeOn===F.THEME||e.changeOn===F.NEVER)):this.__cssArr}doPreRenderLifecycle(){this.disableRender=!0;const e=this._self.preRender();return this.disableRender=!1,e}doPostRenderLifecycle(){this._self.___definerClass.internals.postRenderHooks.forEach(e=>e()),this.__firstRender&&(this.__firstRender=!1,this._self.firstRender()),this._self.postRender()}__createFixtures(){const e=(()=>this.__cssArr.map(()=>{const e=document.createElement("span");return e.setAttribute("data-type","css"),e}))(),t=(()=>{return this._self.__hasCustomCSS()?(e=W(this._self.customCSS()).length,new Array(e).fill(0)).map(()=>{const e=document.createElement("span");return e.setAttribute("data-type","custom-css"),e}):[];var e})(),n=document.createElement("span");return n.setAttribute("data-type","html"),e.forEach(e=>this._self.root.appendChild(e)),t.forEach(e=>this._self.root.appendChild(e)),this._self.root.appendChild(n),{css:e,customCSS:t,html:n}}get renderContainers(){return this.___renderContainers?this.___renderContainers:this.___renderContainers=this.__createFixtures()}__genConstructedCSS(){this.instance.__cssSheets=this.instance.__cssSheets||this.__cssArr.filter(e=>e.changeOn===F.THEME||e.changeOn===F.NEVER).map(e=>({sheet:new CSSStyleSheet,template:e}))}renderConstructedCSS(e){this.__cssArr.length&&(this.__sheetsMounted||(this.__genConstructedCSS(),this.instance.__cssSheets.length&&(this._self.root.adoptedStyleSheets=this.instance.__cssSheets.map(e=>e.sheet),this.__sheetsMounted=!0,e=F.ALWAYS)),e&F.THEME&&this._self.self.__constructedCSSChanged(this._self)&&this.instance.__cssSheets.forEach(({sheet:t,template:n})=>{const s=n.renderAsText(e,this._self).replace(/<\/?style>/g,"");t.replaceSync(s)}))}get canUseConstructedCSS(){return null!==this.___canUseConstructedCSS?this.___canUseConstructedCSS:this.___canUseConstructedCSS=(()=>{try{return new CSSStyleSheet,!0}catch(e){return!1}})()}getRenderFn(e,t){return t===F.FORCE?e.render.bind(e):e.renderIfNew.bind(e)}}q.__constructedCSSRendered=!1;let K=null;var z;function X(...e){var t=[];for(const r of e)if(r||"number"==typeof r)if("string"==typeof r||"number"==typeof r)t.push(r);else if(Array.isArray(r)&&r.length){var n=X.apply(null,r);n&&t.push(n)}else if("object"==typeof r){const e=r;for(var s in e)e[s]&&t.push(s)}return t.join(" ")}!function(e){const t=new WeakMap;function n(e,n,s,r,i,o,a){const l=o.bind(e);t.has(e)||t.set(e,{identifiers:new Map,elements:new Map,selfUnique:new Map,self:new Map});const{elements:c,identifiers:h}=t.get(e),u="element"===n?c:h;u.has(r)||u.set(r,{element:s,map:new Map});const{map:p,element:d}=u.get(r);if(p.has(i)?d.removeEventListener(i,p.get(i)):p.set(i,l),d!==s){for(const e of p.keys())d.removeEventListener(e,p.get(e)),p.delete(e);u.get(r).element=s}return null!=a&&function(){if(null!==K)return K;K=!1;try{var e=Object.defineProperty({},"passive",{get:function(){K=!0}});const t=()=>{};window.addEventListener("testPassive",t,e),window.removeEventListener("testPassive",t,e)}catch(e){}return K}()?s.addEventListener(i,l,a):s.addEventListener(i,l),()=>{p.has(i)&&p.get(i)===l&&(d.removeEventListener(i,l),p.delete(i))}}function s(e,t,s,r,i){return n(e,"element",e.$[t],t,s,r,i)}e.listen=s,e.listenWithIdentifier=function(e,t,s,r,i,o){return n(e,"identifier",t,s,r,i,o)};const r={},i=new WeakMap;function o(e,t=r){if(!e)return!1;i.has(t)||i.set(t,new WeakSet);const n=i.get(t),s=n.has(e);return s||n.add(e),!s}e.isNewElement=o;const a=new WeakMap;function l(e,t){for(const[n,s]of t.entries())for(const t of Array.isArray(s)?s:[s])e.removeEventListener(n,t);t.clear()}e.listenIfNew=function(e,t,n,r,i,l){const c=e.$[t];return("boolean"==typeof i?i:(a.has(e)||a.set(e,{}),o(c,a.get(e))))?s(e,t,n,r,l):()=>{}},e.listenToComponentUnique=function(e,n,s){const r=s.bind(e);t.has(e)||t.set(e,{identifiers:new Map,elements:new Map,selfUnique:new Map,self:new Map});const{selfUnique:i}=t.get(e);return i.has(n)?e.removeEventListener(n,i.get(n)):i.set(n,r),e.addEventListener(n,r),()=>{i.has(n)&&i.get(n)===r&&(e.removeEventListener(n,i.get(n)),i.delete(n))}},e.listenToComponent=function(e,n,s){const r=s.bind(e);t.has(e)||t.set(e,{identifiers:new Map,elements:new Map,selfUnique:new Map,self:new Map});const{self:i}=t.get(e);return i.has(n)?i.get(n).push(r):i.set(n,[r]),e.addEventListener(n,r),()=>{if(!i.has(n))return;const t=i.get(n);t.indexOf(r)>-1&&e.removeEventListener(n,r),t.splice(t.indexOf(r),1),i.set(n,t)}},e.removeAllElementListeners=function(e){if(!t.has(e))return;const{elements:n,identifiers:s,self:r,selfUnique:i}=t.get(e);for(const{map:e,element:t}of n.values())l(t,e);n.clear();for(const{map:e,element:t}of s.values())l(t,e);s.clear(),l(e,r),l(e,i)}}(z||(z={}));class Y extends Error{constructor(e,t){super(`${t} (see error.component)`),this.component=e}}const Q=Symbol("fragment"),J=Q;class Z{constructor(e,t,n){this.tag=e,this.attrs=t,this.children=n}collapse(e){let t=re(this.tag,this.attrs,...function e(t,n,s=new Set){return t.map(t=>{if(t instanceof Z)return t.collapse(n);const r=s.has(t);return s.add(t),Array.isArray(t)&&!r?e(t,n,s):t})}(this.children,e));if(t instanceof Z){for(;t instanceof Z;)t=t.collapse(e);return t}const{strings:n,values:s}=t;return e(n,...s)}}function ee(e,t,...n){return new Z(e,t,n)}const te=ee;var ne,se;function re(e,t,...n){var s;if(function e(t,n=new Set){return t.some(t=>{if(t instanceof Z)return!0;const s=n.has(t);return n.add(t),!(!Array.isArray(t)||s)&&e(t,n)})}(n))return ee(e,t,...n);let r;if("string"==typeof e)r=e;else{if("object"!=typeof e&&"function"!=typeof e||!("is"in e)){if("function"==typeof e){const s=e(t||{});if(s!==J)return s;const r=n.filter(e=>!1!==e),i=new Array(r.length+1).fill(""),o=i;return o.raw=i,{strings:o,values:r}}return console.warn("Unknown tag value"),{strings:[],values:[]}}r=e.is,i=e.is,"undefined"!=typeof window&&window.customElements&&!window.customElements.get(i)&&(null===(s=e.define)||void 0===s||s.call(e))}var i;const o=[],a=[];let l=!1;const c=function(e){if(!e)return e;const t=e;if(t.__listeners||t["@"]){const n=Object.assign(Object.assign({},t.__listeners),t["@"]);for(const t in n)e[`@${t}`]=n[t];delete t.__listeners,delete t["@"]}if(t.__component_listeners||t["@@"]){const n=Object.assign(Object.assign({},t.__component_listeners),t["@@"]);for(const t in n)e[`@@${t}`]=n[t];delete t.__component_listeners,delete t["@@"]}if(t.__bools||t["?"]){const n=Object.assign(Object.assign({},t.__bools),t["?"]);for(const t in n)e[`?${t}`]=n[t];delete t.__bools,delete t["?"]}if(t.__refs||t["#"]){const n=Object.assign(Object.assign({},t.__refs),t["#"]);for(const t in n)e[`#${t}`]=n[t];delete t.__refs,delete t["#"]}return e}(t),h=!(!c||!Object.getOwnPropertyNames(c).length),u=n.filter(e=>!1!==e),p=!!u.length;if(!h&&!p){o.push(`<${r}></${r}>`);const e=o;return e.raw=o,{strings:e,values:a}}if(h){let e=!0;for(const t in c){const n=xe(t);e?(o.push(`<${r} ${n}="`),e=!1):o.push(`" ${n}="`),a.push(c[t])}}else o.push(`<${r}>`),l=!0;if(p){for(const e of u.slice(0,u.length-1))l||(o.push('">'),l=!0),o.push(""),a.push(e);a.push(u[u.length-1]),l||(o.push('">'),l=!0),o.push(`</${r}>`)}else o.push(`"></${r}>`);const d=o;return d.raw=o,{strings:d,values:a}}(se=ne||(ne={})).jsx=function(e,t,...n){return te(e,t,...n)},se.Fragment=function(){return J},se.F=function(){return J};const ie=new Set([1,2,4,8,16,32]);const oe=new WeakMap;class ae{constructor(e,t,n){this._template=e,this._changeOn=t,this._renderer=n,this._lastRenderChanged=!0}get _changeOnAll(){return[...ie.values()].reduce((e,t)=>e|t,0)}get changeOn(){return this._changeOn===F.ALWAYS?this._changeOnAll:this._changeOn}_renderWithTemplater(e,t,n){(!n||"object"!=typeof n&&"function"!=typeof n)&&(n=t),oe.has(n)||oe.set(n,new WeakMap);const s=oe.get(n),r="function"==typeof n?n.bind(t):n;r.jsx=(e,t,...s)=>{const r=re(e,t,...s);if(r instanceof Z)return r;const{strings:i,values:o}=r;return n(i,...o)},r.Fragment=r.F=()=>Q,s.has(t)||s.set(t,new WeakMap);const i=s.get(t);if(this.changeOn===F.NEVER){const s=i.get(this);if(s&&e!==F.FORCE)return{changed:!1,rendered:s};let o=null===this._template?null:this._template.call(t,r,"getRenderArgs"in t&&t.getRenderArgs?t.getRenderArgs(e):{});return o instanceof Z&&(o=o.collapse(n)),i.set(this,o),{changed:!0,rendered:o}}if(e===F.ALWAYS&&(e=this._changeOnAll),this.changeOn&e||!i.has(this)){let s=this._template.call(t,r,"getRenderArgs"in t&&t.getRenderArgs?t.getRenderArgs(e):{});return s instanceof Z&&(s=s.collapse(n)),i.set(this,s),{changed:!0,rendered:s}}return{changed:!1,rendered:i.get(this)}}static _textRenderer(e,...t){const n=[e[0]];for(let s=0;s<t.length;s++)n.push(t[s],e[s+1]);return n.join("")}static _templateResultToText(e){if(null==e)return"";if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||"undefined"!=typeof Element&&e instanceof Element)return`<${e.tagName.toLowerCase()} ${Array.from(e.attributes).map(e=>`${e.name}="${e.value}"`).join(" ")}>${e.innerHTML}</${e.tagName.toLowerCase()}>`;if("toText"in e&&"function"==typeof e.toText)return e.toText();if("strings"in e&&"values"in e)return this._textRenderer(e.strings,...e.values);throw new Error("Failed to convert template to text because there is no .toText() and no .strings and .values properties either (see TemplateRenderResult)")}renderAsText(e,t){const{changed:n,rendered:s}=this._renderWithTemplater(e,t,ae._textRenderer);return this._lastRenderChanged=n,"string"!=typeof s?ae._templateResultToText(s):s}renderTemplate(e,t){const{changed:n,rendered:s}=this._renderWithTemplater(e,t,t.generateHTMLTemplate);return this._lastRenderChanged=n,s}renderSame(e,t,n){const{changed:s,rendered:r}=this._renderWithTemplater(e,t,n);return this._lastRenderChanged=s,r}render(e,t){if(null!==e)if(e instanceof HTMLElement||e instanceof Element)t.appendChild(e);else{if(!this._renderer)throw new Error("Missing renderer");this._renderer(e,t)}}renderIfNew(e,t){this._lastRenderChanged&&this.render(e,t)}}var le=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};class ce{constructor(e,t,n,s){this.element=e,this.name=t,this.strings=n,this._config=s,this.value=void 0,this._pendingValue=void 0}_isPrimitive(e){return null===e||!("object"==typeof e||"function"==typeof e)}setValue(e){e===this._config.noChange||this._isPrimitive(e)&&e===this.value||(this._pendingValue=e)}_getClassNameString(e){return Array.isArray(e)?X(...e):X(e)}commit(){for(;this._config.isDirective(this._pendingValue);){const e=this._pendingValue;this._pendingValue=this._config.noChange,e(this)}if(this._pendingValue!==this._config.noChange){if("string"==typeof this._pendingValue||"number"==typeof this._pendingValue)this.value=this._pendingValue+"",this.element.setAttribute(this.name,this._pendingValue+"");else{const e=this._getClassNameString(this._pendingValue);this.element.setAttribute(this.name,e)}this._pendingValue=this._config.noChange}}}class he{constructor(e,t,n,s){this.element=e,this.name=t,this.strings=n,this._config=s,this.value=void 0,this._pendingValue=void 0}_isPrimitive(e){return null===e||!("object"==typeof e||"function"==typeof e)}setValue(e){e===this._config.noChange||this._isPrimitive(e)&&e===this.value||(this._pendingValue=e)}static _toDashes(e){return e.replace(/([a-z\d])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1-$2").toLowerCase()}static getStyleString(e){const t=[];for(const n in e)t.push(`${this._toDashes(n)}: ${e[n]};`);return t.join(" ")}commit(){for(;this._config.isDirective(this._pendingValue);){const e=this._pendingValue;this._pendingValue=this._config.noChange,e(this)}if(this._pendingValue!==this._config.noChange){if("string"==typeof this._pendingValue||"number"==typeof this._pendingValue)this.value=this._pendingValue+"",this.element.setAttribute(this.name,this._pendingValue+"");else{const e=he.getStyleString(this._pendingValue);this.element.setAttribute(this.name,e)}this._pendingValue=this._config.noChange}}}class ue{constructor(e,t,n,s,r){this.element=e,this.name=t,this.strings=n,this.genRef=s,this._config=r,this.value=void 0,this._pendingValue=void 0}setValue(e){e!==this._config.noChange&&e!==this.value&&(this._pendingValue=e)}static __isTemplate(e){return!!e&&("number"==typeof e.changeOn&&"function"==typeof e.renderAsText&&"function"==typeof e.renderTemplate&&"function"==typeof e.renderSame&&"function"==typeof e.render&&"function"==typeof e.renderIfNew)}commit(){for(;this._config.isDirective(this._pendingValue);){const e=this._pendingValue;this._pendingValue=this._config.noChange,e(this)}if(this._pendingValue===this._config.noChange)return;"custom-css"!==this.name||ue.__isTemplate(this._pendingValue)||(console.warn("Attempting to use non TemplateFn value for custom-css property"),this._pendingValue=new ae(null,F.NEVER,null));let e=!1;if("string"!=typeof this._pendingValue)e=!0;else try{JSON.parse(this._pendingValue),this.element.setAttribute(this.name,this._pendingValue)}catch(t){e=!0}e&&this.element.setAttribute(this.name,this.genRef(this._pendingValue)),this.value=this._pendingValue,this._pendingValue=this._config.noChange}}class pe{constructor(e,t,n){this.component=e,this.genRef=t,this._config=n,this.__componentEventPart=null}get _componentEventPart(){return null!==this.__componentEventPart?this.__componentEventPart:this.__componentEventPart=(e=this._config.EventPart,t=this._config,class extends e{constructor(e,t,n){super(e,t,n),this._pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=n}setValue(e){this._pendingValue=e}commit(){for(;t.isDirective(this._pendingValue);){const e=this._pendingValue;this._pendingValue=t.noChange,e(this)}if(this._pendingValue===t.noChange)return;const e=this._pendingValue,n=this.value,s=null==e||null!=n&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),r=null!=e&&(null==n||s);"listen"in this.element&&"clearListener"in this.element||console.warn("Attempting to listen using webcomponent listener on non-webcomponent element",`Name: ${this.eventName}, element:`,this.element),s&&"clearListener"in this.element&&this.element.clearListener&&this.element.clearListener(this.eventName),r&&"listen"in this.element&&this.element.listen&&this.element.listen(this.eventName,this.handleEvent.bind(this)),this.value=e,this._pendingValue=t.noChange}handleEvent(...e){return"function"==typeof this.value?this.value.call(this.eventContext,...e):this.value.handleEvent(...e)}});var e,t}_isComplexAttribute(e,t){const n=e;if(!("props"in n&&n.props))return!1;const s=n.props;if(!s.__config)return!1;const r=s.__config,i=Object.assign(Object.assign({},r.reflect),r.priv),o=(()=>{if(t in i)return Te(i[t]);const e=Me(t);return e in i?Te(i[e]):null})();return null!==o&&o.type instanceof Re}handleAttributeExpressions(e,t,n){const s=t[0];return"@"===s||t.startsWith("on-")?"@"===t[1]||t.startsWith("on--")?[new this._componentEventPart(e,"@"===t[1]?t.slice(2):t.slice("on--".length),this.component)]:[new this._config.EventPart(e,"@"===s?t.slice(1):t.slice("on-".length),this.component)]:"."===s?new this._config.PropertyCommitter(e,t.slice(1),n).parts:"?"===s?[new this._config.BooleanAttributePart(e,t.slice(1),n)]:"class"===t?[new ce(e,t,n,this._config)]:"style"===t?[new he(e,t,n,this._config)]:"#"===s||"custom-css"===t||this._isComplexAttribute(e,t)?("#"===s&&(t=t.slice(1)),[new ue(e,t,n,this.genRef,this._config)]):new this._config.AttributeCommitter(e,t,n).parts}handleTextExpression(e){return new this._config.NodePart(e)}}class de{constructor(e){this._self=e,this.reffed=[],this._templateProcessor=null}get templateProcessor(){return null!==this._templateProcessor?this._templateProcessor:this._templateProcessor=new pe(this._self,this.genRef,de._templateSettings)}static get templateResult(){return this._templateSettings?this._templateSettings.TemplateResult:(console.warn("Missing templater, please initialize it by calling WebComponentTemplateManager.initComplexTemplateProvider({\tTemplateResult: {{lit-html.TemplateResult}}\tPropertyCommitter: {{lit-html.PropertyCommitter}}\tEventPart: {{lit-html.EventPart}}\tBooleanAttributePart: {{lit-html.BooleanAttributePart}}\tAttributeCommitter: {{lit-html.AttributeCommitter}}\tNodePart: {{lit-html.TemplateResult}}\tisDirective: {{lit-html.isDirective}}\tnoChange: {{lit-html.noChange}}\tdirective: {{lit-html.directive}}})"),class{})}genRef(e){if(-1!==this.reffed.indexOf(e))return`${ye}${this.reffed.indexOf(e)}`;this.reffed.push(e);const t=this.reffed.length-1;return`${ye}${t}`}}de._templateSettings=null,le([H],de.prototype,"genRef",null);function fe(e,t,n){return U(e,{__watch(e,n){t((t,s)=>{s&&s!==e||n(t[e])})},__original:e},n)}function ge(e){const t={};for(const[n,s]of e)t[n]=s;return t}const _e=e=>e((e,t,n)=>s=>{let r=!1;const i=e();i instanceof Promise?(i.then(e=>{r||(s.setValue(e),s.commit())}),n&&s.setValue(n)):(s.setValue(i),s.commit()),t(e=>{r=!0,e instanceof Promise?e.then(e=>{s.setValue(e),s.commit()}):(s.setValue(e),s.commit())})});function me(e){const t=de._templateSettings;if(!t)throw new Error("Watchables are not supported if WebComponentTemplateManager.initComplexTemplateProvider has not been called");const n=_e(t.directive);return"undefined"==typeof Proxy?ge(Object.keys(e).filter(e=>"__watch"!==e&&"__original"!==e).map(t=>[t,(s,r)=>{const i=s(e[t]);return n(()=>i,n=>{e.__watch(t,e=>{n(s(e))})},r)}])):new Proxy(e,{get(t,s){if("__watch"!==s&&"__original"!==s&&e.hasOwnProperty(s))return(t,r)=>{const i=t(e[s]);return n(()=>i,n=>{e.__watch(s,e=>{n(t(e))})},r)}}})}var ve=function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};const ye="___complex_ref";function be(e,t,n,s){if("bool"===s)return n?t+""=="true":null!=t&&"false"!==t;if(null!=t&&"false"!==t){if("number"===s)return~~t;if(s instanceof Re){if(t.startsWith(ye))return e.getParentRef?e.getParentRef(t):t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return void console.warn("Failed to parse complex JSON value",decodeURIComponent(t))}}return t}}function we(e,t,n,s){return be(e,e.getAttribute(t),n,s)}function Ce(e,t,n,s,r){if("bool"===r){s?e(n,""):t(n)}else{const t=s;if(r instanceof Re)try{e(n,encodeURIComponent(JSON.stringify(t)))}catch(t){e(n,encodeURIComponent("_"))}else e(n,String(t))}}var Pe,Se;!function(e){e.STRING="string",e.NUMBER="number",e.BOOL="bool"}(Pe||(Pe={}));class Re{required(){return this}optional(){return this}}function Te(e){if("object"==typeof e&&"type"in e){return e}return{coerce:!1,watch:!0,strict:!1,reflectToSelf:!0,type:e}}!function(e){function t(e){const t=e.map(e=>e.split("."));for(const e of t)for(const t of e)if("**"===t){const e=new Map;return e.set("**",{name:"**",map:new Map}),e}return function e(t){const n=new Map;for(const e of t){n.has(e[0])||n.set(e[0],{name:e[0],relevantPaths:[],watchCurrent:!1,map:new Map});const t=n.get(e[0]);t.watchCurrent=t.watchCurrent||1===e.length,t.relevantPaths.push(e)}for(const[e,t]of n)if("*"===e)for(const e of n.values())e.map!==t.map&&e.relevantPaths.push(...t.relevantPaths);for(const[,e]of n)e.relevantPaths=e.relevantPaths.filter((t,n)=>e.relevantPaths.indexOf(t)===n);for(const[,t]of n)t.map=e(t.relevantPaths.map(e=>e.slice(1)).filter(e=>e.length));return n}(t)}function n(e){return!("object"!=typeof e||e instanceof Date||e instanceof RegExp)}function s(e,t,s){return"object"!=typeof e||null==e||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement?e:"undefined"==typeof Proxy?(console.warn("Attempted to watch object while proxy method is not supported"),e):t.has("**")?function e(t,s){const r=Array.isArray(t),i=new Proxy(t,{set(i,o,a){if(!r||"symbol"==typeof o||"number"==typeof o||!Number.isNaN(parseInt(o))){const r=a;n(a)&&null!==a&&(a=e(a,s));const i=t[o];t[o]=a,i!==r&&s()}else t[o]=a;return!0},deleteProperty(e,n){if(Reflect.has(t,n)){const e=Reflect.deleteProperty(t,n);return s(),e}return!0}});for(const r of Object.keys(t))n(t[r])&&(t[r]=e(t[r],s));return i}(e,s):function e(t,s,r){if(!t)return t;const i=Array.isArray(t),o=new Proxy(t,{set(o,a,l){if(i?s.has("*")?"symbol"==typeof a||"number"==typeof a||!Number.isNaN(parseInt(a)):!("symbol"==typeof a||!s.has(a+"")||!s.get(a+"").watchCurrent):"symbol"!=typeof a?s.get(a+"")&&s.get(a+"").watchCurrent||s.get("*")&&s.get("*").watchCurrent:s.has("*")&&s.get("*").watchCurrent){const o="symbol"!=typeof a&&s.get(a+"")||s.get("*");o.map.size&&n(l)&&(l=e(l,o.map,r));const c=i?"symbol"==typeof a?a:parseInt(a+""):a,h=t[c];t[c]=l,h!==l&&r()}else t[a]=l;return!0},deleteProperty(e,n){if(Reflect.has(t,n)){const e=Reflect.deleteProperty(t,n);return e&&("symbol"!=typeof n&&s.get(n+"")&&s.get(n+"").watchCurrent||s.get("*")&&s.get("*").watchCurrent)&&r(),e}return!0}});for(const i of Object.keys(t))(s.has(i)||s.has("*"))&&n(t[i])&&(t[i]=e(t[i],(s.get(i)||s.get("*")).map,r));return o}(e,t,s)}e.watchValue=function(e,r,i,o){return n(r)&&(i||o.length>0)&&(r=s(r,o.length?t(o):new Map([["*",{name:"*",relevantPaths:[],watchCurrent:!0,map:new Map}]]),()=>{e(F.PROP)})),r}}(Se||(Se={}));const Ae=new Map;function Me(e){const t=Ae.get(e);if(t)return t;if(-1===e.indexOf("-"))return e;let n="";for(let t=0;t<e.length;t++)"-"===e[t]?(n+=e[t+1].toUpperCase(),t++):n+=e[t];return Ae.set(e,n),n}function xe(e){if(!/[A-Z]/.test(e))return e;let t="";for(const n of e){const e=n.charCodeAt(0);t+=e>=65&&e<=90?"-"+n.toLowerCase():n}return t}function Ee(e){switch(e){case I.STRING:case I.STRING_OPTIONAL:case I.STRING_REQUIRED:return Pe.STRING;case I.BOOL:case I.BOOL_OPTIONAL:case I.BOOL_REQUIRED:return Pe.BOOL;case I.NUMBER:case I.NUMBER_OPTIONAL:case I.NUMBER_REQUIRED:return Pe.NUMBER}return e}function Oe(e,t){switch(Ee(t)){case Pe.STRING:return e||"";case Pe.BOOL:return e||!1;case Pe.NUMBER:return e||0}return e}const Le=new WeakMap,Ne=new WeakSet;var Ve;!function(e){const t=new WeakMap;function n(e,n,s){t.has(e.component)||t.set(e.component,n),setTimeout(()=>{e.component.renderToDOM(t.get(e.component)),e.changeListeners.forEach(e=>e(s)),t.delete(e.component)},0)}function s(e,t){return s=>{n(e,s,t)}}class r{constructor(e){this.component=e,this.keyMap=new Map,this.propValues={},this.onConnectMap=new Map,this.changeListeners=[],this.setAttr=e.setAttribute.bind(e),this.removeAttr=e.removeAttribute.bind(e),this.onDone=new Promise(e=>{this._onDoneResolve=e})}overrideAttributeFunctions(){this.component.setAttribute=(e,t)=>{if(!this.component.isMounted)return this.onConnect(Me(e),()=>{i(e,t,this)},!0),void this.setAttr(e,t);i(e,t,this)},this.component.removeAttribute=e=>{if(!this.component.isMounted)return this.onConnect(Me(e),()=>{o(e,this)},!0),void this.removeAttr(e);o(e,this)}}onConnect(e,t,n){Ne.has(this.component)?t():this.onConnectMap.has(e)&&!n||this.onConnectMap.set(e,t)}connected(){[...this.onConnectMap.values()].forEach(e=>{e()}),this._onDoneResolve(),this.component.isSSR||n(this,F.PROP)}}function i(e,t,s){const r=Me(e);if(s.keyMap.has(r)){const{watch:e,mapType:i,strict:o}=s.keyMap.get(r),a=s.propValues[r],l=be(s.component,t,o,Ee(i));if(a===l)return;s.component.fire("beforePropChange",r,l,a),s.propValues[r]=l,s.component.fire("propChange",r,l,a),e&&n(s,F.PROP,r)}else s.propValues[r]=t;s.setAttr(e,t)}function o(e,t){const s=Me(e);if(t.keyMap.has(s)){const{watch:e,coerce:r,mapType:i}=t.keyMap.get(s),o=t.propValues[s],a=r?Oe(void 0,i):Ee(i)!==Pe.BOOL&&void 0;o!==a&&(t.component.fire("beforePropChange",s,a,o),t.propValues[s]=a,t.component.fire("propChange",s,a,o),t.changeListeners.forEach(e=>e(s)),e&&n(t,F.PROP,s))}t.removeAttr(e)}const a=new WeakMap;class l{constructor(e,t,n){this._propertyConfig=e,this._rep=t,this._props=n,this.__config=null}__getConfig(){const{key:e,value:t,reflectToAttr:n}=this._propertyConfig,s=e,r=xe(s),{watch:i=!0,coerce:o=!1,defaultValue:a,value:l,type:c,strict:h=!1,watchProperties:u=[],reflectToSelf:p=!0,description:d}=Te(t);return{watch:i,coerce:o,type:c,strict:h,watchProperties:u,reflectToSelf:p,mapKey:s,key:e,reflectToAttr:n,propName:r,defaultValue:void 0!==a?a:l,description:d||""}}get config(){return this.__config?this.__config:this.__config=this.__getConfig()}setKeyMap(e){const{key:t}=this._propertyConfig,{watch:n,coerce:s,type:r,strict:i,reflectToAttr:o}=this.config;e.set(t,{watch:n,coerce:s,mapType:r,strict:i,reflectToAttr:o})}_setReflect(){const e=this,{mapKey:t}=this.config;t in this._rep.component||Object.defineProperty(this._rep.component,t,{get:()=>e._rep.propValues[t],enumerable:!0,set(n){const s=e._props;s[t]!==n&&(s[t]=n)}})}setReflect(){const{reflectToSelf:e}=this.config;e&&this._setReflect()}setPropAccessors(){const e=this,{mapKey:t,coerce:r,type:i,key:o,watch:a,watchProperties:l,propName:c}=this.config;Object.defineProperty(this._props,t,{get(){const n=e._rep.propValues[t];return r?Oe(n,i):n},enumerable:!0,set(r){const h=r;if(r=Se.watchValue(s(e._rep,t),r,a,l),e._props[t]===r)return;const u=e._rep.propValues[t];e._rep.component.fire("beforePropChange",o,r,u),e._rep.propValues[t]=r,e._rep.component.fire("propChange",o,r,u),e._rep.changeListeners.forEach(e=>e(o)),e._propertyConfig.reflectToAttr&&Ce(e._rep.setAttr,e._rep.removeAttr,c,h,Ee(i)),a&&n(e._rep,F.PROP,t)}})}assignComplexType(){return ve(this,void 0,void 0,(function*(){const{type:e,mapKey:t,propName:n,strict:r,watch:i,watchProperties:o}=this.config;this._rep.onConnect(t,()=>{this._rep.propValues[t]=Se.watchValue(s(this._rep,t),this._rep.component.hasAttribute(n)?we(this._rep.component,n,r,Ee(e)):void 0,i,o)},!1)}))}assignSimpleType(){const{type:e,mapKey:t,propName:n,strict:r,watch:i,watchProperties:o}=this.config;this._rep.propValues[t]=Se.watchValue(s(this._rep,t),this._rep.component.hasAttribute(n)||r&&"bool"===e?we(this._rep.component,n,r,Ee(e)):void 0,i,o)}doDefaultAssign(){const{defaultValue:e,mapKey:t,watch:n,watchProperties:r,propName:i,type:o,reflectToAttr:a}=this.config;void 0!==e?(void 0===this._rep.propValues[t]&&(this._rep.propValues[t]=Se.watchValue(s(this._rep,t),e,n,r)),a&&Ce(this._rep.setAttr,this._rep.removeAttr,i,this._rep.propValues[t],o)):o instanceof Re&&a&&Ce(this._rep.setAttr,this._rep.removeAttr,i,this._rep.propValues[t],o)}}function c(e,t,n){const s=function({reflect:e={},priv:t={}}){return[...Object.getOwnPropertyNames(e).map(t=>({key:t,value:e[t],reflectToAttr:!0})),...Object.getOwnPropertyNames(t).map(e=>({key:e,value:t[e],reflectToAttr:!1}))]}(n).map(n=>new l(n,e,t));return s.forEach(t=>t.setKeyMap(e.keyMap)),s.forEach(e=>e.setReflect()),s.forEach(e=>e.setPropAccessors()),Promise.all(s.map(t=>t.config.type instanceof Re?(e.onConnect(t.config.mapKey,()=>{t.assignComplexType(),t.doDefaultAssign()},!1),e.onDone):(t.assignSimpleType(),e.onConnect(t.config.mapKey,()=>{t.doDefaultAssign()},!1),e.onDone)))}e.define=function(e,t,n){const s=new r(t);return s.overrideAttributeFunctions(),t.isSSR?(s.connected(),Ne.add(t)):function(e,t){ve(this,void 0,void 0,(function*(){Ne.has(e)?t():yield new Promise(n=>ve(this,void 0,void 0,(function*(){const s=Le.get(e)||[];s.push(()=>{t(),n()}),Le.set(e,s)})))}))}(t,()=>{s.connected()}),a.set(e,{composite:!1,element:s}),{awaitable:c(s,e,n),addListener(e){s.changeListeners.push(e)}}},e.joinProps=function(e,t){var n,s;if(!a.has(e))throw new Error("Previous props not defined");const{element:r}=a.get(e);a.set(e,{composite:!0,element:r});const i={};for(const r of["reflect","priv"])((null===(n=e.__config)||void 0===n?void 0:n[r])||t[r])&&(i[r]=Object.assign(Object.assign({},null===(s=e.__config)||void 0===s?void 0:s[r]),t[r]));return e.__config=i,{awaitable:c(r,e,t),addListener(e){r.changeListeners.push(e)}}}}(Ve||(Ve={}));const ke=new Map;class $e{constructor(e){this.__config=e}static define(e,t={},n=e.props){const s=e.tagName.toLowerCase();if(ke.has(s)?ke.set(s,Object.assign(Object.assign({},ke.get(s)),t)):ke.set(s,t),n&&("object"!=typeof n||0!==Object.keys(n).length||n instanceof $e)){if("object"==typeof n&&"__original"in n&&(n=n.__original),"object"!=typeof n||!(n instanceof $e))throw new Error("Parent props should be a Props object");const{addListener:e}=Ve.joinProps(n,t);return fe(n,t=>{e(e=>{t(n,e)})},!0)}const r=new $e(t),{addListener:i}=Ve.define(r,e,t);return fe(r,e=>{i(t=>{e(r,t)})},!0)}static onConnect(e){if(Le.has(e))for(const t of Le.get(e))t();Ne.add(e)}}class je{constructor(){this.idMap=new Map,this.idMapProxy=null,this.supportsProxy="undefined"!=typeof Proxy}clearMap(){this.idMap.clear()}genIdMapProxy(e){const t=this;return new Proxy(t=>e.root.querySelector(t),{get(n,s){if("string"!=typeof s)return;const r=t.idMap.get(s);if(r&&e.shadowRoot.contains(r))return r;const i=e.root.getElementById(s);return i&&t.idMap.set(s,i),i||void 0}})}getIdMapSnapshot(e){const t=t=>e.root.querySelector(t);for(const n of e.root.querySelectorAll("[id]"))t[n.id]=n;return t}}(function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);i>3&&o&&Object.defineProperty(t,n,o)})([H],je.prototype,"clearMap",null);class Fe{constructor(e){this._self=e,this.hasCustomCSS=null,this.__noCustomCSS=new ae(null,F.NEVER,null)}getCustomCSS(){return this._self.__hasCustomCSS()?this._self.getParentRef(this._self.getAttribute("custom-css")):this.__noCustomCSS}}var Ie=function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};class De{constructor(e){this._self=e,this._elementLang=null}setInitialLang(){this.setLang(De.__loadingLang,!0)}notifyNewLang(e){return Ie(this,void 0,void 0,(function*(){for(const t of De._listeners)t(e)}))}setLang(e,t=!1){return Ie(this,void 0,void 0,(function*(){De.__loadingLang!==e?(De.__loadingLang=e,yield De.__loadLang(e),De.__loadingLang===e&&(De.currentLang=e)):De.currentLang=e,this._elementLang!==e&&(this._elementLang=e,t?setTimeout(()=>{this._self.renderToDOM(F.LANG),De.langChangeCompleteListeners.forEach(e=>{e(De.langFiles[De.lang])})},0):(this._self.renderToDOM(F.LANG),De.langChangeCompleteListeners.forEach(e=>e(De.langFiles[De.lang]))))}))}static notifyOnLangChange(e){this._listeners.push(e),De.currentLang&&e(De.currentLang)}static __fetch(e){return Ie(this,void 0,void 0,(function*(){return"undefined"!=typeof window&&"fetch"in window&&void 0!==typeof window.fetch?window.fetch(e).then(e=>e.text()):new Promise((t,n)=>{if("undefined"==typeof XMLHttpRequest)return void t(null);const s=new XMLHttpRequest;s.open("GET",e),s.onreadystatechange=()=>{s.readyState===XMLHttpRequest.DONE&&(s.status>=200&&s.status<300?t(s.responseText):n(new Error(`Failed xhr: ${s.status}`)))},s.send()})}))}static __loadLang(e){return Ie(this,void 0,void 0,(function*(){if(e in this.__langPromises||e in this.langFiles)return;const t=new Promise(t=>Ie(this,void 0,void 0,(function*(){const n=yield this.__fetch(this.urlFormat.replace(/\$LANG\$/g,e));t(n?JSON.parse(n):{})})));this.__langPromises[e]=t,this.langFiles[e]=yield t}))}static get lang(){return this.currentLang||this.__loadingLang||this.defaultLang}static loadCurrentLang(){return Ie(this,void 0,void 0,(function*(){let e=this.lang;if(!(e in this.langFiles))return e in this.__langPromises?(yield this.__langPromises[e],this.lang!==e?this.loadCurrentLang():void 0):(this.__loadLang(e),yield this.__langPromises[e],this.lang!==e?this.loadCurrentLang():void 0)}))}static get isReady(){return this.lang in this.langFiles}static waitForKey(e,t){return Ie(this,void 0,void 0,(function*(){return yield this.loadCurrentLang(),this.getMessage(this.langFiles[this.lang],e,t)}))}}De.urlFormat="/i18n/",De.getMessage=(e,t)=>e[t],De.langFiles={},De.__langPromises={},De.__loadingLang=null,De.currentLang=null,De.defaultLang=null,De.returner=(e,t)=>t,De._listeners=[],De.langChangeCompleteListeners=[];const We={};var He=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o};class Ue{constructor(e,t){this._self=e,this._getGetPrivate=t,this.children=new Set,this.parent=null,this.globalProperties={},this.isSubTreeRoot=!1,this.subtreeProps={},this.subtreeChangeListeners=[],this.globalPropertyChangeListeners=[],this.globalPropsFns=null}__getParent(){return this.parent}__isHierarchyManagerInstance(e){return Ue.hierarchyClasses.has(e)}getGlobalProperties(){const e={};for(let t=0;t<this._self.attributes.length;t++){const n=this._self.attributes[t];n.name.startsWith("prop_")&&(e[n.name.slice("prop_".length)]=decodeURIComponent(n.value))}return e}__findLocalRoot(){let e=this._self.parentNode;for(;e&&!(e instanceof window.ShadowRoot)&&e!==document&&!(e instanceof DocumentFragment);)e=e.parentNode;if(!e)return null;if(e===document)return this._self;const t=(()=>this.__isHierarchyManagerInstance(e)?e:e.host)();return this.__isHierarchyManagerInstance(t)?t:null}findDirectParents(e){null==e||e(this._self);let t=this._self.parentNode;for(;t&&!(t instanceof window.ShadowRoot)&&t!==document&&!(t instanceof DocumentFragment)&&!this.__isHierarchyManagerInstance(t);)null==e||e(t),t=t.parentNode;if(t&&(null==e||e(t)),!t)return null;if(t===document)return this._self;{const e=this.__isHierarchyManagerInstance(t)?t:t.host;return this.__isHierarchyManagerInstance(e)?e:null}}__getRoot(){const e=this.__findLocalRoot();return null!==e&&e!==this._self?e:this.findDirectParents()}registerToParent(){const e=this.__getRoot();if(e===this._self)return void(this.isRoot=!0);if(null===e)return;this.parent=e;const t=Object.assign({},e.registerChild(this._self));for(const e in t)this.setGlobalProperty(e,t[e],!1)}__subtreeChangeNotifyChildren(){this.__propagateDown(e=>{e.renderToDOM(F.SUBTREE_PROPS);const t=this._getGetPrivate()(e),n=t.subtreeChangeListeners;if(n.length){const e=t.getSubtreeProps();n.forEach(t=>t(e))}},[])}registerAsSubTreeRoot(e){this.isSubTreeRoot=!0,this.subtreeProps=e,this.__subtreeChangeNotifyChildren()}setSubTreeProps(e){if(!this.isSubTreeRoot)throw new Error("Can't set subtree props if node has not been registered as a subtree yet. Call this.registerAsSubTreeRoot(props) first");this.isSubTreeRoot=!0,this.subtreeProps=e,this.__subtreeChangeNotifyChildren()}clearNonExistentChildren(){const e=Array.prototype.slice.apply(this._self.children);for(const t of this.children.values())this._self.shadowRoot.contains(t)||e.filter(e=>e.contains(t)).length||this.children.delete(t)}setGlobalProperty(e,t,n=!0){if(this.globalProperties[e]!==t){const s=this.globalProperties[e];this.globalProperties[e]=t,this._self.fire("globalPropChange",e,t,s),this.globalPropertyChangeListeners.forEach(t=>t(this.globalProperties,e)),n&&this._self.renderToDOM(F.GLOBAL_PROPS)}}propagateThroughTree(e){if(this.isRoot){const t=[];return this.__propagateDown(e,t),t}return this.parent?this._getGetPrivate()(this.parent).propagateThroughTree(e):[]}__propagateDown(e,t){t.push(e(this._self));for(const n of this.children)this._getGetPrivate()(n).__propagateDown(e,t)}__getAllInPathToRoot(){const e=[];let t=null,n=this._self;do{t=n,n=this._getGetPrivate()(n).findDirectParents(t=>{e.push(t)})}while(null!==n&&t&&n!==t);return e.filter((e,t,n)=>n.indexOf(e)===t)}getSubtreeRoots(){return this.__getAllInPathToRoot().filter(e=>this._getGetPrivate()(e).isSubTreeRoot).reverse()}getSubtreeProps(){return this.getSubtreeRoots().reduce((e,t)=>Object.assign(Object.assign({},e),this._getGetPrivate()(t).subtreeProps),{})}}Ue.hierarchyClasses=new WeakSet,He([H],Ue.prototype,"registerToParent",null);class Ge{constructor(){this.listenerMap={}}__insertOnce(e,t){const n=(...s)=>{e.delete(n),t(...s)};e.add(n)}__assertKeyExists(e,t){e in t||(t[e]=new Set)}listen(e,t,n){this.__assertKeyExists(e,this.listenerMap),n?this.__insertOnce(this.listenerMap[e],t):this.listenerMap[e].add(t)}}var Be=function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};class qe{constructor(){this.internals={connectedHooks:[],postRenderHooks:[]},this.isDevelopment=!1}static listenForFinished(e,t){return Be(this,void 0,void 0,(function*(){this.finished?(yield t,e.isMounted=!0,e.mounted()):this.listeners.push({component:e,constructed:t})}))}setDevMode(e){this.isDevelopment=qe.devComponents.indexOf(e.tagName.toLowerCase())>-1}static __doSingleMount(e){return new Promise(t=>{(window.requestAnimationFrame||window.webkitRequestAnimationFrame)(()=>{e.isMounted?t():(e.isMounted=!0,e.mounted(),t())})})}static finishLoad(){return Be(this,void 0,void 0,(function*(){if(this.finished=!0,window.requestAnimationFrame||window.webkitRequestAnimationFrame)for(const{component:e,constructed:t}of[...this.listeners])yield t,yield this.__doSingleMount(e);else this.listeners.forEach(({constructed:e,component:t})=>Be(this,void 0,void 0,(function*(){yield e,t.isMounted||(t.isMounted=!0,t.mounted())})))}))}static __isTemplate(e){return!!e&&("number"==typeof e.changeOn&&"function"==typeof e.renderAsText&&"function"==typeof e.renderTemplate&&"function"==typeof e.renderSame&&"function"==typeof e.render&&"function"==typeof e.renderIfNew)}static checkProps(e){if(!e.is)throw new Y(e,"Component is missing static is property");if("string"!=typeof e.is)throw new Y(e,"Component name is not a string");if(-1===e.is.indexOf("-"))throw new Y(e,'Webcomponent names need to contain a dash "-"');if(/[A-Z]/.test(e.is))throw new Y(e,"Webcomponent names can not contain uppercase ASCII characters.");if(/^\d/i.test(e.is))throw new Y(e,"Webcomponent names can not start with a digit.");if(/^-/i.test(e.is))throw new Y(e,"Webcomponent names can not start with a hyphen.");if(void 0===e.html)throw new Y(e,"Component is missing static html property (set to null to suppress)");if(null===e.html)e.html=new ae(null,F.NEVER,null);else if(!this.__isTemplate(e.html))throw new Y(e,"Component's html template should be an instance of the TemplateFn class");if(Array.isArray(e.css)){for(const t of e.css)if(!this.__isTemplate(t))throw new Y(e,"Component's css template should be an instance of the TemplateFn class or an array of them")}else if(null!==e.css&&void 0!==e.css&&!this.__isTemplate(e.css))throw new Y(e,"Component's css template should be an instance of the TemplateFn class or an array of them")}}qe.defined=[],qe.devComponents=[],qe.finished=!1,qe.listeners=[];class Ke{static increment(){this.defined++,this._listeners.forEach(e=>e(this.defined))}static onDefine(e){this._listeners.push(e)}static onReach(e,t){this._listeners.push(n=>{n===e&&t(e)})}}Ke.defined=0,Ke._listeners=[];class ze{attachShadow(e){return{}}get tagName(){return""}setAttribute(){}removeAttribute(){}hasAttribute(){return!1}}const Xe=(e=>{const t=new WeakMap;function n(e){return t.has(e)?t.get(e):t.set(e,new je).get(e)}class s extends e{constructor(...e){super(...e),this.disposables=[],this.isMounted=!1,this.___definerClass.internals.postRenderHooks.push(n(this).clearMap)}get isSSR(){return!1}get $(){const e=n(this);return e.supportsProxy?e.idMapProxy||(e.idMapProxy=e.genIdMapProxy(this)):e.getIdMapSnapshot(this)}$$(e){return[...this.root.querySelectorAll(e)]}connectedCallback(){if(super.connectedCallback(),!this.self)throw new Y(this,"Missing .self property on component");$e.onConnect(this),this.renderToDOM(F.ALWAYS),this.layoutMounted(),this.___definerClass.internals.connectedHooks.filter(e=>e())}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),z.removeAllElementListeners(this),this.disposables.forEach(e=>e()),this.disposables=[],this.isMounted=!1,this.unmounted()}layoutMounted(){}mounted(){}unmounted(){}listenProp(e,t,n=!1){this.listen(e,t,n)}}return s})((e=>{const t=new WeakMap;function n(e){return t.has(e)?t.get(e):t.set(e,new Fe(e)).get(e)}class s extends e{constructor(...e){super(...e),this.isMounted=!1;const t=this.setAttribute;this.setAttribute=(e,n)=>{t.bind(this)(e,n),"custom-css"===e&&this.isMounted&&this.renderToDOM(F.ALWAYS)}}__hasCustomCSS(){const e=n(this);return null!==e.hasCustomCSS?e.hasCustomCSS:this.hasAttribute("custom-css")&&this.getParentRef(this.getAttribute("custom-css"))?e.hasCustomCSS=!0:(this.isMounted&&(e.hasCustomCSS=!1),!1)}customCSS(){return n(this).getCustomCSS()}}return s})((e=>{const t=new WeakMap;function n(e){return t.has(e)?t.get(e):t.set(e,new de(e)).get(e)}class s extends e{generateHTMLTemplate(e,...t){return new de.templateResult(e,t,"html",n(this).templateProcessor)}static initComplexTemplateProvider(e){de._templateSettings=e}getRef(e){if("string"!=typeof e)return void console.warn("Invalid ref",e,"on",this);const t=~~e.split(ye)[1];return n(this).reffed[t]}getParentRef(e){const t=this.getParent();if(t)return t.getRef(e);console.warn("Could not find parent of",this,"and because of that could not find ref with id",e)}genRef(e){return n(this).genRef(e)}}le([H],s.prototype,"generateHTMLTemplate",null);return s})((e=>{const t=new WeakMap;function n(e){return t.has(e)?t.get(e):t.set(e,new De(e)).get(e)}class s extends e{constructor(...e){super(...e);const t=n(this);this.listenGP?this.listenGP("globalPropChange",(e,n)=>{"lang"===e&&t.setLang(n)}):De.notifyOnLangChange(e=>{t.setLang(e)}),t.setInitialLang()}setLang(e){return Ie(this,void 0,void 0,(function*(){if(this.globalProps)this.globalProps().set("lang",e);else{const t=n(this);yield t.setLang(e),yield t.notifyNewLang(e)}}))}getLang(){return De.lang}static initI18N(e){const{defaultLang:t,getMessage:n,returner:s}=e;"urlFormat"in e&&(De.urlFormat=e.urlFormat),"langFiles"in e&&(De.langFiles=e.langFiles),n&&(De.getMessage=n),s&&(De.returner=s),De.defaultLang=t}__prom(e,...t){return s.__prom(e,...t)}__(e,...t){return s.__(e,...t)}static __prom(e,...t){return Ie(this,void 0,void 0,(function*(){return De.isReady?De.getMessage(De.langFiles[De.lang],e,t):De.waitForKey(e,t)}))}static __(e,...t){const n=this.__prom(e,...t);return De.returner(n,`{{${e}}}`,n=>{De.langChangeCompleteListeners.push(()=>{n(this.__prom(e,...t),`{{${e}}}`)})})}static get langReady(){return De.loadCurrentLang()}}return s})((e=>{let t=null,n=[],s=[];function r(e){const t=i.__theme&&e&&e in i.__theme?i.__theme[e]:We;s.forEach(e=>e(t))}class i{constructor(e){this._self=e}__setTheme(){this._self.renderToDOM(F.THEME)}}i.__theme=null,i.__lastRenderedTheme=null;const o=new WeakMap;function a(e){return o.has(e)?o.get(e):o.set(e,new i(e)).get(e)}const l=new WeakMap;class c extends e{constructor(...e){super(...e),this.listenGP?this.listenGP("globalPropChange",e=>{"theme"===e&&a(this).__setTheme()}):n.push(()=>{a(this).__setTheme()})}getThemeName(){return this.globalProps&&this.globalProps().get("theme")||t||i.__defaultTheme}getTheme(){if(i.__theme){const e=this.getThemeName();if(e&&e in i.__theme)return i.__theme[e]}return We}setTheme(e){this.globalProps?(this.globalProps().set("theme",e),r(e)):function(e){t=e,n.forEach(t=>t(e)),r(e)}(e)}getRenderArgs(e){const t=this;let n=null;return U(super.getRenderArgs?super.getRenderArgs(e):{},{get theme(){return n||(t.getTheme?n=fe(t.getTheme(),e=>{s.push(e)}):void 0)}})}static initTheme({theme:e,defaultTheme:t}){i.__theme=e,t&&this.setDefaultTheme(t)}static setDefaultTheme(e){i.__defaultTheme=e}static __constructedCSSChanged(e){if(!l.has(e.self))return l.set(e.self,e.getThemeName()),!0;const t=e.getThemeName();return l.get(e.self)!==t&&(l.set(e.self,t),!0)}}return c})((e=>{const t=new WeakMap;function n(e){return t.has(e)?t.get(e):t.set(e,new Ue(e,()=>n)).get(e)}class s extends e{constructor(...e){super(...e),Ue.hierarchyClasses.add(this)}connectedCallback(){super.connectedCallback();const e=n(this);e.isRoot=this.hasAttribute("_root"),e.globalProperties={},e.registerToParent(),e.isRoot&&(e.globalProperties=Object.assign({},e.getGlobalProperties()))}registerChild(e){const t=n(this);return t.clearNonExistentChildren(),t.children.add(e),t.globalProperties}registerAsSubTreeRoot(e={}){n(this).registerAsSubTreeRoot(e)}setSubTreeProps(e){n(this).setSubTreeProps(e)}getSubtreeRoots(){return n(this).getSubtreeRoots()}getSubTreeProps(){return n(this).getSubtreeProps()}globalProps(){const e=n(this);if(e.globalPropsFns)return e.globalPropsFns;const t=this,s={get all(){return n(t).globalProperties},get(e){if(n(t).globalProperties)return n(t).globalProperties[e]},set(e,s){n(t).parent||n(t).isRoot?n(t).propagateThroughTree(t=>{n(t).setGlobalProperty(e,s)}):console.warn(`Failed to propagate global property "${e}" since this element has no registered parent`)}};return n(this).globalPropsFns=s}getRoot(){const e=n(this);return e.isRoot?this:e.parent.getRoot()}getRenderArgs(e){const t=this;let s=null,r=null;return U(super.getRenderArgs?super.getRenderArgs(e):{},{get subtreeProps(){return s||(s=fe(t.getSubTreeProps(),e=>{n(t).subtreeChangeListeners.push(e)}))},get globalProps(){return r||(r=fe(t.globalProps().all,e=>{n(t).globalPropertyChangeListeners.push(e)}))}})}runGlobalFunction(e){return n(this).propagateThroughTree(e)}getParent(){return n(this).__getParent()}listenGP(e,t,n=!1){this.listen(e,t,n)}}return s})((e=>{const t=new WeakMap;function n(e){return t.has(e)?t.get(e):t.set(e,new Ge).get(e)}class s extends e{constructor(...e){super(...e)}get listenerMap(){return n(this).listenerMap}listen(e,t,s=!1){n(this).listen(e,t,s)}clearListener(e,t){if(e in this.listenerMap){const n=this.listenerMap[e];if(!t)return void n.clear();n.delete(t)}}fire(e,...t){if(!(e in this.listenerMap))return[];const n=this.listenerMap[e],s=[];for(const e of n.values())s.push(e(...t));return s}}return s})((e=>{const t=new WeakMap;class n extends e{constructor(){super(...arguments),this.root=this.attachShadow({mode:"open"}),this.props={}}get self(){return null}__hasCustomCSS(){return!1}customCSS(){return[]}static __constructedCSSChanged(e){return!q.__constructedCSSRendered&&(q.__constructedCSSRendered=!0,!0)}get jsxProps(){return this.props}renderToDOM(e=F.FORCE){const n=(s=this,t.has(s)?t.get(s):t.set(s,new q(s)).get(s));var s;n.disableRender||!1!==n.doPreRenderLifecycle()&&(n.canUseConstructedCSS&&n.renderConstructedCSS(e),n.__privateCSS.forEach((t,s)=>{n.getRenderFn(t,e)(t.renderTemplate(e,this),n.renderContainers.css[s])}),this.__hasCustomCSS()&&W(this.customCSS()).forEach((t,s)=>{n.getRenderFn(t,e)(t.renderTemplate(e,this),n.renderContainers.customCSS[s])}),this.self.html&&n.getRenderFn(this.self.html,e)(this.self.html.renderTemplate(e,this),n.renderContainers.html),n.doPostRenderLifecycle())}getRenderArgs(e){const t=this;return{get props(){return t.props},changeType:e}}preRender(){}postRender(){}firstRender(){}connectedCallback(){}}D([H],n.prototype,"renderToDOM",null);return n})((e=>{class t extends e{constructor(...e){super(...e),this.___definerClass=new qe;const t=new Promise(e=>{this.___definerClass.internals.connectedHooks.push(()=>{e()})});qe.listenForFinished(this,t),this.___definerClass.setDevMode(this)}static define(e=!1,t=!0){if(t&&qe.finished&&(qe.finished=!1,qe.listeners=[]),e&&(qe.devComponents.push(this.is),qe.checkProps(this)),this.dependencies&&this.dependencies.length)for(const t of this.dependencies)t&&t.define(e,!1);var n,s;n=this.is,s=this,"undefined"!=typeof window&&(window.customElements.get(n)||window.customElements.define(n,s)),qe.defined.push(this.is),Ke.increment(),qe.finishLoad()}}t.dependencies=[];return t})("undefined"!=typeof HTMLElement?HTMLElement:process.HTMLElement||ze)))))))));class Ye extends Xe{getRenderArgs(e){return super.getRenderArgs(e)}}class Qe extends Xe{get self(){return null}getRenderArgs(e){return super.getRenderArgs(e)}}function Je(e){const{is:t,html:n,description:s,css:r=[],mixins:i=[],dependencies:o=[]}=e;return e=>{const a=e;class l extends a{get self(){return l}}return l.is=t,l.description=s,l.dependencies=[...a.dependencies||[],...o].filter((e,t,n)=>n.indexOf(e)===t),l.mixins=i,l.html=n,l.css=r||[],e.mixins=i,e.dependencies=o,l}}const Ze=new ae((function(e,{props:t}){return e`
            <div
                id="cell"
                class="${me(t).state(e=>({"state-none":""===e,"state-x":"X"===e,"state-o":"O"===e}))}"
                @click="${this.onClick}"
            >
                <div id="cellContainer">
                    <div id="x">
                        <div id="topLeft"></div>
                        <div id="topRight"></div>
                    </div>
                    <div id="o">
                        <div id="circle"></div>
                    </div>
                </div>
            </div>
        `}),F.MANUAL,j);let et=class extends Qe{constructor(){super(...arguments),this.props=$e.define(this,{reflect:{x:{type:I.NUMBER,isDefined:!0},y:{type:I.NUMBER,isDefined:!0},state:{type:I.STRING,value:"",exactType:""}}})}onClick(){""===this.props.state&&this.fire("click",this)}};et=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([Je({is:"cell-block",css:new ae((function(e,{theme:t}){return e`
            <style>
                #topLeft, #topRight {
                    width: 10vw;
                    height: 0.3vw;
                    background-color: ${t.primary};
                    margin-top: 3.5vw;
                    margin-left: -1.4vw;
                    position: absolute;
                    border-radius: 1vw;
                }

                #topLeft {
                    transform: rotate(45deg);
                }

                #topRight {
                    transform: rotate(-45deg);
                }

                #circle {
                    height: 6vw;
                    width: 6vw;
                    border: 0.3vw solid ${t.primary};
                    background-color: transparent;
                    border-radius: 50%;
                    margin-left: 0.3vw;
                    margin-top: 0.3vw;
                    position: absolute;
                }

                #cellContainer {
                    width: 7.2vw;
                    height: 7.2vw;
                    padding: 1.5vw;
                }

                #cell.state-none {
                    cursor: pointer;
                }

                #x, #o {
                    opacity: 0;
                    transition: opacity 300ms ease-in;
                }

                #cell.state-x #x, #cell.state-o #o {
                    opacity: 1;
                }
            </style>
        `}),F.THEME,j),html:Ze})],et);const tt={light:{background:"rgb(222, 222, 222)",primary:"rgb(3, 169, 244)",text:"rgb(21, 21, 21)"},dark:{background:"rgb(21, 21, 21)",primary:"yellow",text:"rgb(218, 218, 218)"}};function nt(e,t){return"undefined"!=typeof localStorage?localStorage.setItem(e,t):null}const st=i((e,t,n)=>s=>{s.setValue(n()),s.commit(),e.listenGP("globalPropChange",e=>{e===t&&(s.setValue(n()),s.commit())})}),rt=new ae((function(e,{props:t}){return e`
            <div id="lang-switcher">
                ${st(this,"lang",()=>ot.map(t=>e`
                            <img
                                class="${{language:!0,active:this.getLang()===t}}"
                                src="images/${t}.png"
                                title="${this.__("change_lang")}"
                                @click="${()=>{nt("lang",t),this.setLang(t)}}"
                            />
                        `))}
            </div>
            <div id="theme-switcher">
                ${st(this,"theme",()=>{Object.getOwnPropertyNames(tt).map(t=>e`
                                <div
                                    class="${{"theme-preview":!0,active:this.getThemeName()===t}}"
                                    style="background-color: ${tt[t].background}"
                                    title="${this.__("change_theme")}"
                                    @click="${()=>{nt("theme",t),this.setTheme(t)}}"
                                ></div>
                            `)})}
            </div>
            <div id="winner-banner" class="horizontal-centerer">
                <div id="winner-text">
                    ${this.__("has_won",this.getWinner())}
                </div>
            </div>
            <div id="main" class="horizontal-centerer">
                <div class="vertical-centerer">
                    <table id="container">
                        ${me(t).board(t=>t.map((t,n)=>e`
                                    <tr class="row">
                                        ${t.map((t,s)=>e`
                                                <td>
                                                    <cell-block
                                                        @@click="${this.cellClick}"
                                                        x="${s}"
                                                        y="${n}"
                                                        class="cell"
                                                        state="${t}"
                                                    >
                                                    </cell-block>
                                                </td>
                                            `)}
                                    </tr>
                                `))}
                    </table>
                </div>
            </div>
        `}),F.PROP,j),it=new ae((function(e,{theme:t}){return e`
            <style>
                .vertical-centerer, .horizontal-centerer {
                    display: flex;
                    justify-content: center;
                }

                .vertical-centerer {
                    flex-direction: column;
                    height: 100%;
                }

                .horizontal-centerer {
                    flex-direction: row;
                }

                #main {
                    background-color: ${t.background};
                    height: 100%;
                }

                table {
                    border: none;
                    border-collapse: collapse;
                }

                td {
                    border-top: 0.3vw solid ${t.primary};
                    border-left: 0.3vw solid ${t.primary};
                }

                td:first-child {
                    border-left: none;
                }

                tr:first-child td {
                    border-top: none;
                }

                #container {
                    opacity: 0;
                    transition: opacity 500ms ease-in;
                }

                #container.active {
                    opacity: 1;
                }

                #lang-switcher {
                    position: absolute;
                    right: 0.5vw;
                    top: 0.5vw;
                }

                .language, .theme-preview {
                    height: 2vw;
                    width: 2vw;
                    border: 0.16vw solid transparent;
                    border-radius: 50%;
                    cursor: pointer;
                    margin-left: 0.16vw;
                }

                .language.active, .theme-preview.active {
                    border: 0.16vw solid ${t.primary};
                }

                #theme-switcher {
                    position: absolute;
                    right: 0.5vw;
                    bottom: 0.5vw;
                    display: flex;
                    flex-direction: row;
                }

                #winner-banner {
                    position: absolute;
                    width: 100vw;
                    pointer-events: none;
                    bottom: 3vw;
                    transform: translateY(6vw);
                    transition: transform 500ms ease-in;
                }

                #winner-banner.active {
                    transform: translateY(0);
                }

                #winner-text {
                    font-size: 200%;
                    font-family: sans-serif;
                    border-bottom: 0.3vw solid ${t.primary};
                    display: inline;
                    pointer-events: all;
                    color: ${t.text};
                }
            </style>
        `}),F.THEME,j);const ot=["en","nl","es","de"];let at=class extends Qe{constructor(){super(...arguments),this._turn="X",this._frozen=!1,this._winner="",this.props=$e.define(this,{reflect:{board:{type:new Re,value:[["","",""],["","",""],["","",""]],watchProperties:["*.*"]}}})}_areSame(...e){if(""===e[0])return!1;const t=e[0];for(const n of e.slice(1))if(n!==t)return!1;return!0}_onWin(e){this._frozen=!0,this._winner=e,this.$["winner-banner"].classList.add("active")}getWinner(){return this._winner}_checkWin(){for(const e of this.props.board)if(this._areSame(...e))return this._onWin(e[0]);for(let e=0;e<this.props.board[0].length;e++)if(this._areSame(...this.props.board.map(t=>t[e])))return this._onWin(this.props.board[0][e]);if(this.props.board.length!==this.props.board[0].length)return;const e=new Array(this.props.board.length).fill(0).map((e,t)=>t);return this._areSame(...e.map(e=>this.props.board[e][e]))?this._onWin(this.props.board[0][0]):this._areSame(...e.map(e=>this.props.board[e][this.props.board.length-1-e]))?this._onWin(this.props.board[0][0]):void 0}cellClick(e){this._frozen||(this.props.board[e.props.y][e.props.x]="X"===this._turn?"X":"O",this._turn="X"===this._turn?"O":"X",this._checkWin())}firstRender(){setTimeout(()=>{this.$.container.classList.add("active")},200)}};function lt(e){return"undefined"==typeof localStorage?null:localStorage.getItem(e)}at=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([Je({is:"tic-tac-toe",css:it,html:rt,dependencies:[et]})],at),Ye.initComplexTemplateProvider({TemplateResult:C,PropertyCommitter:x,EventPart:L,BooleanAttributePart:M,AttributeCommitter:R,NodePart:A,isDirective:o,directive:i,noChange:c}),Ye.initTheme({theme:tt,defaultTheme:lt("theme")||("undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),Ye.initI18N({urlFormat:"./i18n/$LANG$.json",defaultLang:lt("lang")||"en",returner:i((e,t,n)=>s=>{s.setValue(t),e.then(e=>{s.setValue(e),s.commit(),n(e=>{e.then(e=>{s.setValue(e),s.commit()})})})}),getMessage(e,t,n){if(!(t in e))return"???";const s=e[t];if(!n.length)return s;let r=s;for(const e of n)r=r.replace(/\$(\w*)\$/,e);return r}}),at.define()}]);